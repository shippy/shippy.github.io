---
import type { CollectionEntry } from "astro:content";
import { Image } from "astro:assets";
import defaultHeroImage from "../assets/default_blog_hero_image.png";
import Base from "./Base.astro";

type Props = CollectionEntry<"presentations">["data"];

const {
  title,
  description,
  pubDate,
  heroImage,
  presentationUrl,
  videoUrl,
  place,
} = Astro.props;
---

<Base title={title} description={description || ""}>
  <main>
    <article>
      <div class="hero-image">
        {
          heroImage ? (
            <Image width={1020} height={510} src={heroImage} alt="" />
          ) : (
            <Image width={1020} height={510} src={defaultHeroImage} alt="" />
          )
        }
      </div>
      <div class="prose">
        <div class="title">
          <div class="date">
            <!-- {place}, on <FormattedDate date={pubDate} /> -->
          </div>
          <h1>{title}</h1>
          {description && <p>{description}</p>}
          <hr />
        </div>
        <slot />
        {
          videoUrl && (
            <div class="video_iframe">
              <h2>Recording</h2>
              <iframe
                width="720"
                height="400"
                src={videoUrl}
                title="YouTube video player"
                allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"
                referrerpolicy="strict-origin-when-cross-origin"
                allowfullscreen
              />
            </div>
          )
        }
        {
          presentationUrl && (
            <div class="presentation_iframe">
              <h2>Slides</h2>
              <iframe
                src={presentationUrl}
                width="720"
                height="400"
                allowfullscreen="true"
              />
            </div>
          )
        }
      </div>
    </article>
  </main>
</Base>
